generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Usuario {
  id            Int      @id @default(autoincrement())
  nombre        String
  contrase√±a   String
  mail          String   @unique
  descripcion   String
  rolPostulante Boolean
  fecha         DateTime
  fotoperfil    String

  // Relaciones
  ofertasCreadas    Oferta[]   @relation("UsuarioOfertas")
  proyectosCreados  Proyecto[] @relation("UsuarioProyectos")
  ofertasPostuladas Oferta[]   @relation("Postulaciones")
}

model Oferta {
  id        Int        @id @default(autoincrement())
  categoria String
  ubicacion String
  sueldo    Int?
  modalidad String
  horario   DateTime[]

  // Relaciones
  creador    Usuario   @relation("UsuarioOfertas", fields: [creadorId], references: [id])
  creadorId  Int
  postulados Usuario[] @relation("Postulaciones")
}

model Proyecto {
  id                Int      @id @default(autoincrement())
  nombre            String
  descripcion       String
  tecnologiasUsadas String[]
  createdAt         DateTime @default(now())

  // Relaciones
  creador   Usuario @relation("UsuarioProyectos", fields: [creadorId], references: [id])
  creadorId Int
}
